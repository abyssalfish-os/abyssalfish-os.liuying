[
    {
        "objectID": documentation,
    "url": "https://abyssalfish-os.github.io/documentation/",
    "title": "流影相关文档",
    "summary": "流影是国内首款开源网络流量分析平台，是一站式轻量级网络安全态势感知与网络行为可视化综合分析平台。流影模块使用 C/C++、JavaScript",
    "content": "流影是国内首款开源网络流量分析平台，是一站式轻量级网络安全态势感知与网络行为可视化综合分析平台。流影模块使用 C/C++、JavaScript 编程语言所写成，开源首发1.0.0版本由深海鱼（北京）科技有限公司流影项目组研发设计。\n请在左侧导航菜单选择查看您感兴趣的文档内容，或者从下面是最基本和实用的章节开始浏览。\n",
    "pubDate": "2022-12-06T00:00:00+08:00"
    }, 
    {
        "objectID": development,
    "url": "https://abyssalfish-os.github.io/contribute/development/",
    "title": "代码贡献",
    "summary": "可视化交互式分析 ly_vis 项目地址 前往前端项目ly_vis仓库: Github：ly_vis Gitee: ly_vis 发起issue 浏览、发起issue： Github：ly",
    "content": "可视化交互式分析 ly_vis 项目地址 前往前端项目ly_vis仓库:\nGithub：ly_vis Gitee: ly_vis 发起issue 浏览、发起issue：\nGithub：ly_vis Gitee：ly_vis 管理服务引擎 ly_server ly_server 项目地址 前往 ly_server 仓库:\nGithub: ly_server Gitee: ly_server 发起issue 浏览、发起issue：\nGithub: ly_server Gitee: ly_server 分析处理引擎 ly_analyser ly_analyser 项目地址 前往 ly_analyser 仓库:\nGithub: ly_analyser Gitee: ly_analyser 发起issue 浏览、发起issue：\nGithub: ly_analyser Gitee: ly_analyser 流量探针 ly_probe ly_probe 项目地址 前往 ly_probe 仓库:\nGithub: ly_probe Gitee: ly_probe 发起issue 浏览、发起issue：\nGithub: ly_probe Gitee: ly_probe 联系方式 联系邮箱：opensource@abyssalfish.com.cn 线上讨论区：去Gitter沟通群 ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": what-is-liuying,
    "url": "https://abyssalfish-os.github.io/about/what-is-liuying/",
    "title": "流影 Flow Shadow",
    "summary": "流影是面向全行业用户的下一代网络安全平台，专注于挖掘识别各种网络威胁相关行为，采用的核心技术包括深度包检测、网络流数据挖掘、专家经验特征模型",
    "content": "流影是面向全行业用户的下一代网络安全平台，专注于挖掘识别各种网络威胁相关行为，采用的核心技术包括深度包检测、网络流数据挖掘、专家经验特征模型、 机器学习、数据可视化等，涵盖了网络威胁入侵检测、网络行为痕迹留存、资产被动测绘、威胁告警、网络行为可视化分析、态势感知 等网络安全方面基本功能。\n流影架构模块化，易于部署和操作使用，灵活可扩展，为用户提供了一种轻量级的网络安全感知与网络行为可视化分析综合解决方案，广泛适用于各类企业及个人，适用于各种网络安全防护、网络威胁狩猎、 攻防演练、网络行为证据留存、态势感知等应用场景。\n流影核心功能 网络流量采集与解析 网络流量包检测与流分析 网络行为识别与异常（威胁）检测 网络行为特征痕迹留存 交互式可视化网络行为分析 安全告警 资产被动发现 支持应用场景 流影内置多种网络行为发现模型，支持多源威胁情报和网络通信指纹接入，功能灵活可扩展，应用场景包括不限于以下方面：\n重点目标网络流量监测 网络隐蔽隧道通信检测 网络异常服务发现 数字加密货币挖矿检测 数字资产被动梳理 网络攻击威胁预警 网络安全攻防演练 其他可扩展场景 适用用户 流影广泛适用于各类型用户，包括政府、组织、单位和个人，人人可用。\n网络安全监测机构 网络运营商 政府及企事业单位安全部门 银行、保险等金融行业安全部门 中小企业安全运维部门 个人与家庭 ",
    "pubDate": "2022-12-23T00:00:00+08:00"
    }, 
    {
        "objectID": quick-start,
    "url": "https://abyssalfish-os.github.io/getting-started/quick-start/",
    "title": "快速上手",
    "summary": "通过本文内容，您将了解到: 流影各模块节点部署介绍 部署架构 简单使用 准备 在开始部署之前，您必须准备好部署条件: 硬件环境 软件环境 网络环境 相关环境要",
    "content": "通过本文内容，您将了解到:\n流影各模块节点部署介绍 部署架构 简单使用 准备 在开始部署之前，您必须准备好部署条件:\n硬件环境 软件环境 网络环境 相关环境要求请参考部署环境.\n节点架构 流影包括四个主要模块，分别是\n采集模块 ly_probe：可以单节点部署，也支持多节点横向扩展部署（提高采集性能） 分析模块 ly_analyser：可以单节点部署，支持多节点横向扩展部署（提高分析性能） 管理模块 ly_server：单节点部署即可 可视化模块 ly_vis：单节点部署即可 节点部署示意图 根据实际流量大小，灵活设置节点数量\n最小化部署：单节点部署所有模块，适合小流量测试 分布式部署：多流量采集节点，多分析节点，一个管理节点和可视化节点，适合大流量情况 探针使用 流影探针 ly_probe 是一款用于解析网络流量、提取关键信息的探针软件，源自nprobe早期5.x开源版本， 是一款高性能流量采集软件。ly_probe基于nprobe5.x进行了定制化开发，能够将流量或pcap文件解析后，提取并匹配指定数据内容后，以netflow格式传输至采集器。 除提取网络层相关信息，亦可解析HTTP、DNS、ICMP等应用层协议。 通过配置指纹规则库，支持提取应用层协议相关应用、设备、操作系统等绑定到IP详细扩展信息，也支持识别应用层的威胁行为，或其他匹配目标特征的网络行为。 规则命中的数据包可以根据需求以文件方式同步留存，供后续调查验证使用。\n流量探针节点部署位置\n流量节点位置 危险程度 威胁倾向 互联网-终端用户 高危 关注终端用户的上网安全问题，通过此节点流量识别用户与威胁来源的通信、判断是否受到远程控制，检测主机是否失陷。 互联网-DMZ区域 高危 关注互联网中面向企业对外服务器的威胁行为。 互联网-内部服务器 高危 关注内部服务器对外暴露情况，关注内部服务器数据流出情况，检测服务器是否失陷 内部服务器-终端用户 危险 关注终端用户对服务器的攻击行为，检测异常终端用户，检测服务器所受到的威胁。 内部服务器-内部服务器 危险 关注服务器间横向攻击行为，检测失陷服务器与服务器所受到的威胁。 ly_probe 安装 您可以从项目地址下载realse进行安装\nGithub: ly_probe release Gitee: ly_probe release 运行示例 ​以守护进程形式在后台运行，监听eth0网卡的数据流量，解析MAC、IP、L4协议、端口、数据量等基础信息，以netflow形式发送至127.0.0.1:9995。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 运行参数 通过参数可以指定数据源、运行模式、解析格式、采集器位置等。\n# lyprobe -h lyprobe -n \u0026lt;host:port|none\u0026gt; [-i \u0026lt;interface|dump file\u0026gt;] [-f \u0026lt;filter\u0026gt;] [-G] [-O \u0026lt;# threads\u0026gt;] [-w \u0026lt;hash size\u0026gt;] [-e \u0026lt;flow delay\u0026gt;] [-T \u0026lt;flow template\u0026gt;] [-U \u0026lt;flow template id\u0026gt;] ...... [--collector|-n] \u0026lt;host:port|none\u0026gt; | Address of the NetFlow collector(s). | Multiple collectors can be defined using | multiple -n flags. In this case flows | will be sent in round robin mode to | all defined collectors if the -a flag | is used. Note that you can specify | both IPv4 and IPv6 addresses. | If you specify none as value, | no flow will be export; in this case | the -P parameter is mandatory. [--interface|-i] \u0026lt;iface|pcap\u0026gt; | Interface name from which packets are | captured, or .pcap file (debug only) [--bpf-filter|-f] \u0026lt;BPF filter\u0026gt; | BPF filter for captured packets | [default=no filter] [--daemon-mode|-G] | Start as daemon. [--num-threads|-O] \u0026lt;# threads\u0026gt; | Number of packet fetcher threads | [default=2]. Use 1 unless you know | what you\u0026#39;re doing. [--hash-size|-w] \u0026lt;hash size\u0026gt; | Flows hash size [default=32768] [--flow-delay|-e] \u0026lt;flow delay\u0026gt; | Delay (in ms) between two flow | exports [default=1] [--flow-templ|-T] \u0026lt;flow template\u0026gt; | Specify the NFv9 template (see below). --pcap-file-list \u0026lt;filename\u0026gt; | Specify a filename containing a list | of pcap files. | If you use this flag the -i option will be | ignored. ...... 插件功能 服务识别插件 - servicePlugin\r​通过数据包传输层载荷进行正则模式匹配，结合资产指纹规则，识别数据流应用层协议，目标IP的中间件服务、设备种类、操作系统等资产信息；结合威胁指纹规则，识别指定类型的威胁流量。\n​指纹规则存放于 fp-pattern/ 目录中，包含以JSON格式书写的五类规则：\nservice.json\t-- 应用层协议与服务识别规则 ​device.json\t-- 硬件设备识别规则 ​os.json\t-- 操作系统识别规则 ​midware.json\t-- 软件平台与中间件规则 ​threat.json\t-- 异常流量识别规则 ​指纹规则通过数个字段指定匹配条件与标记结果，例如：\n{ \u0026#34;midware\u0026#34;:{ \u0026#34;rules\u0026#34;:{ \u0026#34;40001\u0026#34;:{ \u0026#34;type\u0026#34;:\u0026#34;Web Service\u0026#34;,\t-- 命中后类型标识，输出至XXX_TYPE字段 \u0026#34;name\u0026#34;:\u0026#34;Nginx\u0026#34;,\t-- 命中后名称标识，输出至XXX_NAME字段 \u0026#34;protocol\u0026#34;:\u0026#34;tcp\u0026#34;,\t-- 指定传输层协议 \u0026#34;port\u0026#34;:\u0026#34;80\u0026#34;,\t-- 指定端口 \u0026#34;is_http\u0026#34;:1,\t-- 指定是否为HTTP流量 \u0026#34;regex\u0026#34;:\u0026#34;Server: nginx(?:\\\\/(\\\\d*\\\\.?\\\\d*\\\\.?\\\\d*))?\u0026#34;,\t-- 正则语句 // \u0026#34;version\u0026#34;:\u0026#34;\u0026#34;\t-- 使用指定字符串声明版本信息；未设置字段时, //\t-- 提取第一个正则子表达式命中内容作为版本信息 } } } } ​指定字段，在采集数据过程中进行规则匹配，获取到服务、设备、操作系统、中间件的类型、名称、版本等信息以及威胁流量的描述信息。插件留存规则命中的数据包，并通过微秒级的时间戳，对指定数据包进行定位查找。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %SRV_TYPE %SRV_NAME %SRV_VERS %DEV_TYPE %DEV_NAME %DEV_VEND %DEV_VERS %OS_TYPE %OS_NAME %OS_VERS %MID_TYPE %MID_NAME %MID_VERS %THREAT_TYPE %THREAT_NAME %THREAT_VERS %SRV_TIME %DEV_TIME %OS_TIME %MID_TIME %THREAT_TIME\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 DNS协议解析插件 - dnsPlugin\r​解析PCAP文件的数据流量，实现对DNS协议内容的解析，获取DNS查询域名，查询类型，查询结果关联IP。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %DNS_REQ_DOMAIN %DNS_REQ_TYPE %DNS_RES_IP\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 HTTP协议解析插件 - httpPlugin\r​解析PCAP文件的数据流量，实现对HTTP协议内容的解析，获取HTTP协议头部字段信息。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %HTTP_URL %HTTP_REQ_METHOD %HTTP_HOST %HTTP_MIME %HTTP_RET_CODE %HTTP_USER_AGENT\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 ICMP协议解析插件 - icmpPlugin\r​解析PCAP文件的数据流量，实现对ICMP协议内容的解析，获取ICMP载荷内容等信息。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %ICMP_DATA %ICMP_SEQ_NUM %ICMP_PAYLOAD_LEN\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 分析引擎使用 ly_analyser是流影的网络行为分析引擎，读取netflow v9格式的数据作为输入，运行各种威胁行为检测模型，产出威胁事件，并留存相关特征数据用于后续取证分析。包括扫描、DGA、DNS隧道、ICMP隧道、服务器外联、 挖矿、各种注入等威胁行为，涵盖机器学习、威胁情报、数据包检测、经验模型四种识别方式。\nly_analyser 安装 您可以从ly_analyser项目地址下载realse进行安装\nGithub: ly_analyser release Gitee: ly_analyser release 您也可以安装文档进行源码编译安装。\nly_analyser 配置 系统环境配置\r# 配置环境语言及时区\rexport LANG=en_US.UTF-8\rln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\rntpdate cn.pool.ntp.org\r# 关闭seliunx，开放本地防⽕墙端口\r#编辑config⽂件\rvi /etc/selinux/config\r#找到配置项\rSELINUX=enforcing\r#修改配置项为\rSELINUX=disabled\r#执⾏命令，即时关闭selinux\rsetenforce 0\r#开放本地防⽕墙端口\rsystemctl restart firewalld\rfirewall-cmd --zone=public --add-port=10081/tcp --permanent\rfirewall-cmd --reload httpd配置\r编辑文件/etc/httpd/conf.d/agent.conf，写入内容：\nListen 10081 \u0026lt;VirtualHost *:10081\u0026gt; DocumentRoot /Agent/cmd \u0026lt;Directory \u0026#34;/Agent/cmd\u0026#34;\u0026gt; Options ExecCGI SetHandler cgi-script AllowOverride None Order allow,deny Allow from all Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; #重启httpd\nsystemctl restart httpd 设置任务 创建定时任务\r# vi /var/spool/cron/apache，加入内容： */5 * * * * /Agent/bin/extractor 启动nfcapd接收探针发送的netflow数据\r/Agent/bin/nfcapd -w -D -l /data/flow/3 -p 9995 管理引擎使用 ly_server是流影的管理引擎，用于聚合分析引擎产出的威胁事件、数据节点管理、用户管理、配置管理、数据查询等。\nly_server 节点安装 您可以从 ly_server 项目地址下载 realse 进行安装\nGithub: ly_server release Gitee: ly_server release 您也可以安装文档进行源码编译安装。\nly_server节点运行配置 系统环境配置\r# 配置语言和时区\rexport LANG=en_US.UTF-8\rln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\u0026gt;/dev/null 2\u0026gt;\u0026amp;1\rntpdate cn.pool.ntp.org\r# 关闭selinux、开启防火墙端口\r#编辑config⽂件\rvi /etc/selinux/config\r#找到配置项\rSELINUX=enforcing\r#修改配置项为\rSELINUX=disabled\r#执⾏命令，即时关闭selinux\rsetenforce 0\rsystemctl restart firewalld\rfirewall-cmd --zone=public --add-port=18080/tcp --permanent\rfirewall-cmd --reload httpd配置\r编辑etc/httpd/conf.d/server.conf\nListen 18080\r\u0026lt;VirtualHost :18080\u0026gt;\rDocumentRoot \u0026#34;/Server/www\u0026#34;\rAddDefaultCharset utf-8\r\u0026lt;Directory \u0026#34;/Server/www\u0026#34;\u0026gt;\rOptions FollowSymLinks Includes\rXBitHack on\rAllowOverride None\rOrder allow,deny\rAllow from all\rRequire all granted\r\u0026lt;/Directory\u0026gt;\rAlias /d/ \u0026#34;/Server/www/d/\u0026#34;\r\u0026lt;Directory \u0026#34;/Server/www/d/\u0026#34;\u0026gt;\rOptions ExecCGI FollowSymLinks\rSetHandler cgi-script\rAllowOverride None\rOrder allow,deny\rAllow from all\rRequire all granted\rRewriteEngine On\rRewriteCond %{REQUEST_FILENAME} !auth$\rRewriteRule ^(.)$ auth?auth_target=$1 [QSA,PT,L]\r\u0026lt;/Directory\u0026gt;\r\u0026lt;/VirtualHost\u0026gt; httpd配置完成后，重启httpd\nsystemctl restart httpd 配置mariadb\nmkdir -p /Server/etc #编辑/Server/etc/gl.server.cnf⽂件 vi\t/Server/etc/gl.server.cnf 添加如下内容\n[gl.server] default-character-set=utf8 user=root database=server passwd= 复制配置文件到指定位置\ncp /Server/etc/gl.server.cnf /etc/my.cnf.d/ 运行mariadb数据库\nsystemctl\tstart\tmariadb #初始化数据库，根据提示操作即可（⽆登录密码，拒绝⾮本地登录） mysql_secure_installation #登陆本地数据库 mysql -uroot #新建数据库server create\tdatabase\tserver; #选择server数据库 use\tserver #导⼊数据 source\t/root/db.server.v1.0.0.clean.sql #导⼊成功后，退出 exit #重启mariadb systemctl restart mariadb ly_server运行配置 创建定时任务,编辑/var/spool/cron/root，写入内容：\n*/5 * * * * /Server/bin/config_pusher */5 * * * * /Server/bin/gen_event 可视化分析引擎使用 ly_vis是流影的前端可视化分析引擎，采用react框架、h5+js、d3.js，图表丰富，简洁易用。\nly_vis 节点安装 您可以从 ly_vis项目地址下载 realse 进行安装\nGithub: ly_vis release Gitee: ly_vis release 您也可以安装文档进行源码编译安装。\nly_vis 运行 将下载的 release 或者本地打包的文件部署在服务器的 home/Server/www/ui文件路径下。\n部署完成后，使用Chrome浏览器访问 your server:18080/ui ，如出现登录页面则部署成功。\n配置服务器信息。 打开 /packages/std/config-overrides.js文件。修改 devServerConfig中 target变量为自己数据的Server路径。\nconst devServerConfig = () =\u0026gt; config =\u0026gt; { return { ...config, proxy: { \u0026#39;/d/\u0026#39;: { target: Your Server, changeOrigin: true, }, }, } } 本地运行 yarn std start 自动唤醒浏览器，访问localhost:8004，展示为登录页面。如启动程序运行完毕之后未能自动访问，则需要手动访问。\n",
    "pubDate": "2022-12-23T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/login/",
    "title": "用户登录",
    "summary": "前提条件 用户成功安装部署各个节点组件后，可以访问系统界面。 界面访问地址一般是 http://yourserver:18080/ui。 您也可以使",
    "content": "前提条件 用户成功安装部署各个节点组件后，可以访问系统界面。 界面访问地址一般是 http://yourserver:18080/ui。\n您也可以使用以下Demo快速体验流影功能\nDemo地址 演示账号：demo，口令：demo@2022 用户登录 通过浏览器访问http://yourserver:18080/ui，在登录页面使用默认admin账号登录，登录页面如下图所示。\n输入用户名和登录密码。\n用户权限 管理员账号具有最高权限，可以进行系统所有配置和用户账号管理操作。 系统角色目前设定为：\n管理员：具有所有权限 分析员：可以配置检测规则、设置告警 普通用户：只有查看权限 演示账号demo为普通用户。\n",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": documentation,
    "url": "https://abyssalfish-os.github.io/contribute/documentation/",
    "title": "帮助完善项目文档 Docs",
    "summary": "Fork 流影文档 最好在本地进行文档改善工作。 首先在Github中Fork流影文档 ly_docs Clone项目到本地，参见GitHub\u0026rsquo;s documentation on \u0026ldquo;forking\u0026rdquo; 本地",
    "content": "Fork 流影文档 最好在本地进行文档改善工作。\n首先在Github中Fork流影文档 ly_docs Clone项目到本地，参见GitHub\u0026rsquo;s documentation on \u0026ldquo;forking\u0026rdquo; 本地创建分支进行文档完善工作 git checkout -b doc-revised 文档改善 流影文档使用 hugoDocs 样式，使用Hugo生成项目文档，具体信息请参考其使用文档。\n创建文档新内容 hugo new \u0026lt;DOCS-SECTION\u0026gt;/\u0026lt;new-content\u0026gt;.md 编辑文档 在content目录下找到对需要改善的文档md，修改内容即可。\n反馈方式 联系邮箱：opensource@abyssalfish.com.cn 线上讨论区：去Gitter沟通群 ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": ly_analyser,
    "url": "https://abyssalfish-os.github.io/installation/ly_analyser/",
    "title": "分析引擎编译安装",
    "summary": "ly_analyser是流影的威胁行为分析引擎，读取netflow v9格式的数据作为输入，运行各种威胁行为检测模型，产出威胁事件，并留存相关",
    "content": "ly_analyser是流影的威胁行为分析引擎，读取netflow v9格式的数据作为输入，运行各种威胁行为检测模型，产出威胁事件，并留存相关特征数据用于后续取证分析。包括扫描、DGA、DNS隧道、ICMP隧道、服务器外联、 挖矿、各种注入等威胁行为，涵盖机器学习、威胁情报、数据包检测、经验模型四种识别方式。\n项目地址 Github Gitee 目录结构 ly_analyser\r├─── dependence\t--依赖环境\r├─── src\r├───common\t-- 数据结构与通用工具函数\r├───nfdump\t-- 第三方数据接收工具\r├───agent\t-- 引擎主体代码\r├───config\t├───data\t--数据库操作模块\r├───dump\t--netflow数据解析模块\r├───flow\t--检测模型模块\r├───handles\t--数据处理模块\r├───indexing\t--程序索引模块\r├───model\t├───utils\t......\r环境依赖 操作系统 CentOS-7-x86_64-Minimal-2009 编译环境 gcc、gcc-c++、cmake bison、flex json-c-devel、 boost-devel、 libcurl-devel、 libpcap-devel、 mariadb-devel、 httpd、ntp、 cgicc-3.2.16、 cppdb-0.3.1、 protobuf-3.8.0、 tensorflow-2.0.4、 安装依赖环境 # 1. 安装依赖组件 yum install gcc gcc-c++ cmake -y yum install bison flex json-c-devel -y yum install ntp -y yum install httpd -y yum install boost-devel -y yum install libcurl-devel -y yum install mariadb-devel -y yum install libpcap-devel -y # 2. 编译安装cgicc tar -zxvf cgicc-3.2.16.tar.gz -C ./ cd ./cgicc-3.2.16 ./config make \u0026amp;\u0026amp; make install # 3. 编译安装cppdb tar -jxvf cppdb-0.3.1.tar.bz2 -C ./ cd ./cppdb-0.3.1 cmake -DCMAKE_INSTALL_PREFIX=/usr -DLIBDIR=lib64 -DMYSQL_LIB=/usr/lib64/mysql/libmysqlclient.so -DMYSQL_PATH=/usr/include/mysql make \u0026amp;\u0026amp; make install # 4. 编译安装protobuf-3.8.0 tar -xzvf protobuf-3.8.0.tar.gz ./configure make \u0026amp;\u0026amp; make install ln -sf /usr/local/lib/libprotobuf.so.19.0.0 /usr/lib64/libprotobuf.so.19 # 5. tensorflow-2.0.4相关头文件、库安装 tar -xzvf tf.tar.gz cp tf /usr/local/include -r tar -xzvf tf_lib.tar.gz cd tf_lib cp libtensorflow_framework.so.2.0.4 libtensorflow_cc.so.2.0.4 /usr/local/lib ln -sf /usr/local/lib/libtensorflow_framework.so.2.0.4 /usr/local/lib/libtensorflow_framework.so.2 ln -sf /usr/local/lib/libtensorflow_framework.so.2 /usr/local/lib/libtensorflow_framework.so ln -sf /usr/local/lib/libtensorflow_cc.so.2.0.4 /usr/local/lib/libtensorflow_cc.so.2 ln -sf /usr/local/lib/libtensorflow_cc.so.2 /usr/local/lib/libtensorflow_cc.so ln -sf /usr/local/lib/libtensorflow_cc.so.2.0.4 /usr/lib64/libtensorflow_cc.so.2 ln -sf /usr/local/lib/libtensorflow_framework.so.2.0.4 /usr/lib64/libtensorflow_framework.so.2 编译部署 # 6. 创建目录 mkdir -p /home/Agent ln -s /home/Agent /Agent mkdir -p /home/data/flow/ ln -s /home/data /data ln -s /data/flow /Agent/flow # 7. 编译源代码 cd src/ # 编译common cd common/ make \u0026amp;\u0026amp; make install # 编译agent cd agent/ make \u0026amp;\u0026amp; make instal # 编译nfdump cd nfdump/ ./configure make cp bin/nfcapd bin/nfdump /Agent/bin 运行环境配置 # 8. 配置环境语言及时区 export LANG=en_US.UTF-8 ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime ntpdate cn.pool.ntp.org # 9. 关闭seliunx，开放本地防⽕墙端口 #编辑config⽂件 vi /etc/selinux/config #找到配置项 SELINUX=enforcing #修改配置项为 SELINUX=disabled #执⾏命令，即时关闭selinux setenforce 0 #开放本地防⽕墙端口 systemctl restart firewalld firewall-cmd --zone=public --add-port=10081/tcp --permanent firewall-cmd --reload # 10. 配置httpd 编辑文件/etc/httpd/conf.d/agent.conf，写入内容： Listen 10081 \u0026lt;VirtualHost *:10081\u0026gt; DocumentRoot /Agent/cmd \u0026lt;Directory \u0026#34;/Agent/cmd\u0026#34;\u0026gt; Options ExecCGI SetHandler cgi-script AllowOverride None Order allow,deny Allow from all Require all granted \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; #重启httpd systemctl restart httpd 运行任务配置 # 11. 创建定时任务\rvi /var/spool/cron/apache，加入内容：\r*/5 * * * * /Agent/bin/extractor\r# 12. 启动nfcapd接收探针发送的netflow数据\r/Agent/bin/nfcapd -w -D -l /data/flow/3 -p 9995 开源许可 GNU GENERAL PUBLIC LICENSE Version 3 联系方式 如果在开发、部署、使用的过程中遇到任何问题，或者技术讨论、产品咨询、商务合作等，都欢迎前来联系我们！\n联系邮箱：opensource@abyssalfish.com.cn\n",
    "pubDate": "2022-12-22T00:00:00+08:00"
    }, 
    {
        "objectID": structure,
    "url": "https://abyssalfish-os.github.io/about/structure/",
    "title": "流影架构",
    "summary": "总体架构 流影整体设计采用四层分层架构，包括数据采集层、数据分析与检测层、数据融合分析层、展示层。 层级功能 数据层 网络镜像流量采集 威胁情报IOC",
    "content": "总体架构 流影整体设计采用四层分层架构，包括数据采集层、数据分析与检测层、数据融合分析层、展示层。\n层级功能 数据层\n网络镜像流量采集 威胁情报IOC接入 资产指纹数据 IP定位信息 其他扩展信息 分析检测层\n数据包分析检测 网络通讯行为与内容分析：扫描行为、异常网络服务、异常通讯、异常数据流动、情报碰撞 多种模型：经验模型+机器学习模型 融合分析层\n行为特征关联融合 告警聚合 专家模型综合研判 展示层\n安全态势报表 交互式调查分析 网络行为追溯查看 流量可视化 模块组成 流量探针ly_probe: 位于数据层，开发语言C/C++\n源自早期开源的高性能探针nprobe5.x版本，进行了定制化开发 解析网络流量、提取流量关键信息，以netflow格式传输至采集器 实现将流量或pcap文件解析后，提取并进行指纹匹配 分析引擎ly_analyser: 位于分析检测层，开发语言C/C++\n支持netflow v9格式的数据分析 网络行为分析、特征提取 经验模型检测、数据包检测、威胁情报检测、机器学习模型检测 网络行为证据留存 管理引擎ly_server: 位于融合分析层， 开发语言C/C++\n安全告警聚合 分析模型配置管理 数据节点管理 数据查询接口 用户管理 可视化分析引擎ly_vis: 位于展现层，开发语言JavaScript\n安全态势 流量数据可视化呈现 安全告警、报表 网络行为交互式分析 连接关系 流影各个模块直接的通信连接关系如下图所示。 流量采集节点ly_probe\n支持网络流量镜像接入方式，根据流量大小可以多节点部署 输出数据推送到任一分析检测引擎ly_analyser 数据包留存 分析检测节点ly_analyser\n输入探针采集推送数据 根据流量情况，支持多节点横向扩展部署 输出网络安全事件特征(event_features)、通讯会话特征（session features) 数据存储本地节点MongoDB数据库 管理服务节点ly_server\n单节点部署即可 内建多种网络行为分析模型，灵活，支持自定义配置模型 提取分析节点网络行为特征数据，进行融合与关联分析，输出聚合安全事件告警，存储在本地MySQL（MariaDB）数据库 提供各层数据节点查询接口 可视化呈现与交互式分析节点ly_vis\n单节点部署即可 react框架、h5+js、d3.js 支持用户对流量的可视化分析、交互式探索、挖掘与追溯 图表丰富，简洁易用 ",
    "pubDate": "2022-12-12T00:00:00+08:00"
    }, 
    {
        "objectID": ly_server,
    "url": "https://abyssalfish-os.github.io/installation/ly_server/",
    "title": "管理服务编译安装",
    "summary": "​ly_server是流影的管理引擎，用于聚合分析引擎产出的威胁事件、数据节点管理、用户管理、配置管理、数据查询等。 项目地址 Github Gitee 目录结构 ly_server ├",
    "content": "​ly_server是流影的管理引擎，用于聚合分析引擎产出的威胁事件、数据节点管理、用户管理、配置管理、数据查询等。\n项目地址 Github Gitee 目录结构 ly_server\r├───dependence\t-- 依赖环境\r├───src\r├───common\t-- 数据结构与通用工具函数\r├───lib\t-- 工具库函数\r├───server\t-- 引擎主体代码\r├......\t-- 各API实现 环境依赖 # 操作系统 CentOS-7-x86_64-Minimal-2009 # 编译环境 gcc、gcc-c++、cmake bison、flex json-c-devel boost-devel libcurl-devel mariadb-server mariadb-devel httpd、ntp cgicc-3.2.16 cppdb-0.3.1 protobuf-3.8.0 安装依赖 # 1. 安装依赖组件 yum install gcc gcc-c++ cmake -y yum install bison flex json-c-devel -y yum install ntp -y yum install httpd -y yum install boost-devel -y yum install libcurl-devel -y yum install mariadb-server mariadb-devel -y # 2. 编译安装cgicc tar -zxvf cgicc-3.2.16.tar.gz -C ./ cd ./cgicc-3.2.16 ./config make \u0026amp;\u0026amp; make install # 3. 编译安装cppdb tar -jxvf cppdb-0.3.1.tar.bz2 -C ./ cd ./cppdb-0.3.1 cmake -DCMAKE_INSTALL_PREFIX=/usr -DLIBDIR=lib64 -DMYSQL_LIB=/usr/lib64/mysql/libmysqlclient.so -DMYSQL_PATH=/usr/include/mysql make \u0026amp;\u0026amp; make install # 4. 编译安装protobuf-3.8.0 tar -xzvf protobuf-3.8.0.tar.gz ./configure make \u0026amp;\u0026amp; make install ln -sf /usr/local/lib/libprotobuf.so.19.0.0 /usr/lib64/libprotobuf.so.19 编译部署 # 5. 创建目录结构 mkdir -p /home/Server ln -s /home/Server/ /Server # 6. 编译源代码 cd src # 编译common cd common make \u0026amp;\u0026amp; make install # 编译lib cd lib make \u0026amp;\u0026amp; make install # 编译server cd server make \u0026amp;\u0026amp; make install 运行配置 # 7. 配置语言和时区 export LANG=en_US.UTF-8 ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\u0026gt;/dev/null 2\u0026gt;\u0026amp;1 ntpdate cn.pool.ntp.org # 8. 关闭selinux、开启防火墙端口 #编辑config⽂件 vi /etc/selinux/config #找到配置项 SELINUX=enforcing #修改配置项为 SELINUX=disabled #执⾏命令，即时关闭selinux setenforce 0 systemctl restart firewalld firewall-cmd --zone=public --add-port=18080/tcp --permanent firewall-cmd --reload # 9. 配置httpd # 编辑/etc/httpd/conf.d/server.conf Listen 18080 \u0026lt;VirtualHost :18080\u0026gt; DocumentRoot \u0026#34;/Server/www\u0026#34; AddDefaultCharset utf-8 \u0026lt;Directory \u0026#34;/Server/www\u0026#34;\u0026gt; Options FollowSymLinks Includes XBitHack on AllowOverride None Order allow,deny Allow from all Require all granted \u0026lt;/Directory\u0026gt; Alias /d/ \u0026#34;/Server/www/d/\u0026#34; \u0026lt;Directory \u0026#34;/Server/www/d/\u0026#34;\u0026gt; Options ExecCGI FollowSymLinks SetHandler cgi-script AllowOverride None Order allow,deny Allow from all Require all granted RewriteEngine On RewriteCond %{REQUEST_FILENAME} !auth$ RewriteRule ^(.)$ auth?auth_target=$1 [QSA,PT,L] \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; #重启httpd systemctl restart httpd # 10. 配置mariadb mkdir -p /Server/etc #编辑/Server/etc/gl.server.cnf⽂件 vi\t/Server/etc/gl.server.cnf #添加如下内容 [gl.server] default-character-set=utf8 user=root database=server passwd= cp /Server/etc/gl.server.cnf /etc/my.cnf.d/ #启动数据库 systemctl\tstart\tmariadb #初始化数据库，根据提示操作即可（⽆登录密码，拒绝⾮本地登录） mysql_secure_installation #登陆本地数据库 mysql -uroot #新建数据库server create\tdatabase\tserver; #选择server数据库 use\tserver #导⼊数据 source\t/root/db.server.v1.0.0.clean.sql #导⼊成功后，退出 exit #重启mariadb systemctl restart mariadb 定时任务 # 11. 创建定时任务 编辑/var/spool/cron/root，写入内容： */5 * * * * /Server/bin/config_pusher */5 * * * * /Server/bin/gen_event 开源许可 GNU GENERAL PUBLIC LICENSE Version 3 联系方式 如果在开发、部署、使用的过程中遇到任何问题，或者技术讨论、产品咨询、商务合作等，都欢迎前来联系我们！\n联系邮箱：opensource@abyssalfish.com.cn\n",
    "pubDate": "2022-12-28T00:00:00+08:00"
    }, 
    {
        "objectID": usage,
    "url": "https://abyssalfish-os.github.io/getting-started/usage/",
    "title": "用户界面",
    "summary": "前言 您完成流量各个节点的安装配置后，就可以通过前端界面进行操作和使用了。 如果您没有本地安装，也可以使用我们提供的线上演示Demo。 演示环境 您",
    "content": "前言 您完成流量各个节点的安装配置后，就可以通过前端界面进行操作和使用了。 如果您没有本地安装，也可以使用我们提供的线上演示Demo。\n演示环境 您可以使用以下Demo快速体验流影功能\nDemo地址 演示账号：demo，口令：demo@2022 登录 访问系统地址，进入登录界面。使用合法账号登录系统。 态势总览 进入系统后，展示的是态势总览界面 流影【总览/运维】页面，从事件分类统计、Top10受害目标事件分布、事件时间趋势以及多维统计排行等四个统计维度去分析安全事件。并提供工作台模块方便运维人员能够快速处理安全事件。\n全局搜索 在总览菜单下，选择 分析 子菜单，进入全局搜索 分析页面为用户提供了全局搜索功能，通过指定的查询条件，查询目标在系统内的所有信息，包括信息总览、威胁情报信息、安全事件、特征行为等信息。\n通过切换查询类型来实现IP、端口、域名、IP 端口、IP\u0026gt;端口以及IP：端口六种类型的目标查询。其中类型的含义如下。\nIP：IP地址 端口：端口号 域名：域名 IP 端口：指定IP和端口，但是不指定方向，包含SIP-DPORT、SIP-SPORT、SPORT-DIP以及DIP-DPORT四种情况。 IP\u0026gt;端口：SIP-DPORT的组合 IP:端口：SIP-SPORT的组合 系统管理 流影【总览/管理】页面，分为配置总览、系统状态、事件规则三个功能模块。能够让用户快速了解系统配置内容、系统运行状态、以及优化检出规则。\n事件告警 流影【事件】页面是用来查看安全事件列表的，支持安全事件的查询、过滤、统计、处理等操作。可以通过导航进入此页面，也可以通过设备操作菜单中的事件列表进入到事件页面。\n事件告警列表 告警详情 在事件告警列表右侧ID列，点击告警事件id，可查看该告警汇总详细信息。 线索追踪 用户可以使用追踪功能对 IP、端口、会话关系等目标进行持续关注、标签备注、分组管理以及自定义告警。追踪页面针对于追踪目标提供查询筛选、追踪列表展示、安全事件关联、资产信息关联等功能。 系统配置 系统配置包含了事件检测策略、资产范围、黑白名单配置、追踪目标设置、用户管理等。\n其它 更详细使用请参见用户手册内容。\n联系反馈 邮箱：opensource@abyssalfish.com.cn ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": ly_vis,
    "url": "https://abyssalfish-os.github.io/installation/ly_vis/",
    "title": "可视化交互式分析界面",
    "summary": "开源地址 Github Gitee 界面部署 将下载的 release 或者本地打包的文件部署在服务器的 home/Server/www/ui文件路径下。 部署完成后，使用Chrome浏",
    "content": "开源地址 Github Gitee 界面部署 将下载的 release 或者本地打包的文件部署在服务器的 home/Server/www/ui文件路径下。\n部署完成后，使用Chrome浏览器访问 your server:18080/ui ，如出现登录页面则部署成功。\n运行环境 开发工具：Visual Studio Code\n插件：\nEditorConfig for VS Code ESLint Stylelint 编辑工具：node \u0026gt;= v16.13.1\n包管理工具：Yarn \u0026gt;= v1.22.1\n运行环境：\n推荐 Chrome 浏览器，其他现代浏览器不保证完全兼容 屏幕分辨率 \u0026gt;= 1024 启动运行 下载代码。 git clone https://gitee.com/abyssalfish-os/ly_vis.git 初始化仓库。进入仓库，执行 yarn。 cd ly-vis yarn 配置服务器信息。 打开 /packages/std/config-overrides.js文件。修改 devServerConfig中 target变量为自己数据的Server路径。\nconst devServerConfig = () =\u0026gt; config =\u0026gt; { return { ...config, proxy: { \u0026#39;/d/\u0026#39;: { target: Your Server, changeOrigin: true, }, }, } } 运行项目。 yarn std start 项目会唤醒浏览器，自动访问localhost:8004，展示为登录页面。如启动程序运行完毕之后未能自动访问，则需要手动访问。\n开发 项目采用create-react-app + antd为基础架构，采用multi-repo的仓库管理方式，本仓库仅包含其中一个主项目仓库和共用组件库，仍保持多仓库的代码结构。\n目录结构介绍 仅介绍开发过程中会涉及到的文件路径：\n- packages // 仓库集合 - components // 仓库1：公用组件库 - charts // 图标库 - config-store // 全局变量模板 - locale // 词汇翻译对照表 - request-config // Ajax请求封装 - style // 产品基础样式 - system // 子模块系统 - event-system // 事件子系统 - ui // ui组件库 - utils // 计算函数库 - std // 仓库2： 项目仓库 - doc // 开发复杂逻辑文档 - public // create-react-app自带的公共文件夹 - app-config // 一些系统变量和开关的配置 - template // 数据导入模板 - theme // 主题样式表 - src // 项目源代码 - components // 组件库 - config // 路由配置 - layout // 布局配置 - locale // i18配置 - page // 页面代码 - 404 // 404页面 - config // 配置页面 - event // 事件页面 - login // 登录页面 - overview // 总览页面 - result // 全局搜索结果页面 - search // 全局搜索页面 - track // 跟踪页面 - service // API配置 - style // 仓库2私有样式 - utils // 仓库2私有工具函数 - index.jsx // 入口文件 - router.jsx // 路由组件 - config-overrides.js // 仓库2拓展webpack配置。 - .prettierrc.js // prettier代码规范配置 - .eslintrc.js // eslint代码规范配置 - .stylelintrc.js // stylelint/css规范配置 Git Commit 采用了Angular提交信息规范，所以在提交commit信息时，需要采用以下命令代替 git commit。\nyarn commit 按照以下五个问题填入commit信息：\nSelect the type of change that you\u0026rsquo;re committing：更新类型（必填）\nfeat：新功能 fix：修复BUG docs：文档修改 style：代码样式 refactor：重构工作 perf：性能相关 test：测试相关 build：打包配置相关 ci：对CI配置文件或脚本进行了修改 chore：修改主要业务代码以外的代码 revert：版本回退 What is the scope of this change：影响范围\nWrite a short, imperative tense description of the change：简要说明（必填）\nProvide a longer description of the change: (press enter to skip)：详细说明\nAre there any breaking changes：是否有重大变动，主要是不兼容变动，默认否\nDoes this change affect any open issues：是否影响了哪些开放的issus，默认否\n如果提交失败请检查Eslint、Stylelint等工具是否报错。\n打包 进入项目文件后，执行以下命令，等待打包完成。\nyarn std build 打包后文件会在 packages/std/build 文件夹下。\n开源许可 GNU GENERAL PUBLIC LICENSE Version 3 联系方式 如果在开发、部署、使用的过程中遇到任何问题，或者技术讨论、产品咨询、商务合作等，都欢迎前来联系我们！\n联系邮箱：opensource@abyssalfish.com.cn\n",
    "pubDate": "2022-12-28T00:00:00+08:00"
    }, 
    {
        "objectID": deploy-required,
    "url": "https://abyssalfish-os.github.io/getting-started/deploy-required/",
    "title": "部署环境说明",
    "summary": "硬件环境 推荐硬件配置： 硬件类型 采集及分析服务器 管理及控制服务器 最佳性能 SVR/服务器 双路服务器 单路服务器 x86架构64位处理器 CPU/处理器",
    "content": "硬件环境 推荐硬件配置：\n硬件类型 采集及分析服务器 管理及控制服务器 最佳性能 SVR/服务器 双路服务器 单路服务器 x86架构64位处理器 CPU/处理器 24核@3.0Ghz以上 8核@2.4Ghz以上 支持AVX2或更新的指令集 RAM/内存 64GB以上 32GB以上 DDR4 ECC 2666Mhz以上外频 STOR/存储 固态盘，960GB以上 固态盘，480GB以上 写65000 IOPS 读72000 IOPS 以上 NIC/网卡 1/10Gbps+1Gbps 1Gbps Intel X710 X520 i350 *更高主频的CPU和更大容量的内存，可以保证更快的数据处理效率。\n*更高IOPS的固态盘可以保证数据留存和分析处理速度，避免因数据吞吐性能不足导致待处理数据丢失。大容量的存储保证更长期的历史数据追溯能力。\n*数据规模参考：1Gbps流量，典型负载在60%-80%，每1天产生的历史数据量约为50-100GB，其中原始流量描述数据规模约80%，流量特征及事件数据约20%。真实数据量还与实际网络运行状态、识别行为配置有关。\n*数据处理能力：流影资产版与标准版，单节点数据采集分析性能可支撑6-10Gbps网络环境。流影专业版，单节点数据采集分析性能可达3-5Gbps。真实负载还与实际网络负载状态有关。\n软件环境 操作系统及权限：\n服务器 操作系统 依赖服务 权限 采集分析 CentOS7.9-2009-X64-Minimal httpd root 管理控制 CentOS7.9-2009-X64-Minimal httpd、mariadb-server root *操作系统使用官方网站的CentOS-7-x86_64-Minimal-2009.iso(CentOS7.9 2009 64位)镜像最小安装，仅包含必要服务，系统面临风险更低。\n*如果使用内部软件源请尽量与官方源的内容保持一致，以避免出现兼容性问题导致系统运行不稳定或其他未知问题。\n网络环境 网络访问控制配置：\n服务器 IP 端口 描述 采集分析 eth1/无 混杂模式 流量镜像采集 eth0/内网IP TCP/22 SSH服务 TCP/10081 Server-Agent通讯 管理控制 eth0/内网IP TCP/22 SSH服务 TCP/18080 WebUI及API通信 *保证管理控制服务器到采集分析服务器的10081端口TCP协议路由可达。\n*保证用户浏览器终端到管理控制服务器的18080端口TCP协议路由可达。\n",
    "pubDate": "2022-12-23T00:00:00+08:00"
    }, 
    {
        "objectID": ly_probe,
    "url": "https://abyssalfish-os.github.io/installation/ly_probe/",
    "title": "流量探针编译安装",
    "summary": "​ly_probe 探针 源自于早期开源nprobe5.x，是一款用于解析网络流量、提取关键信息的探针软件，能够将流量或pcap文件解析后，提取",
    "content": "​ly_probe 探针 源自于早期开源nprobe5.x，是一款用于解析网络流量、提取关键信息的探针软件，能够将流量或pcap文件解析后，提取并匹配指定数据内容后，以netflow格式传输至采集器。 除提取网络层相关信息，亦可解析HTTP、DNS、ICMP等应用层协议。 通过配置指纹规则库，支持提取应用层协议相关应用、设备、操作系统等绑定到IP详细扩展信息，也支持识别应用层的威胁行为，或其他匹配目标特征的网络行为。 规则命中的数据包可以根据需求以文件方式同步留存，供后续调查验证使用。\n项目地址 Github Gitee 模块目录结构 lyprobe\r├─── .dep/ --pl0文件\r├─── m4/ --m4宏文件\r├─── plugins/ --插件\r├─── fp-pattern/ --综合测绘识别指纹规则\r├─── l7-pattern/ --应用层协议识别指纹规则\r|─ ......\r└─ nprobe.c --主程序代码 依赖说明 编译环境 GCC automake autoconf libtool libpcap PF_RING (可选) 运行环境 libpcap PF_RING (可选) 编译安装 # 检查环境 ./autogen.sh # 编译代码 make # 部署可执行程序与依赖库文件 make install # 若需要使用规则匹配插件，需手动将所应用的规则移动至指定位置 cp -r ./fp-pattern /usr/local/lib/lyprobe/plugins/fp-pattern ​因系统环境问题，若运行\u0026rsquo;autogen.sh\u0026rsquo;后出现 U_INT系列宏定义错误，可修改\u0026rsquo;config.h.in\u0026rsquo;文件中相关宏，将\u0026rsquo;#define\u0026rsquo;更改为\u0026rsquo;#undef\u0026rsquo;。再次执行\u0026rsquo;sh ./configure\u0026rsquo;即可。\n运行示例 基础示例 ​以守护进程形式在后台运行，监听eth0网卡的数据流量，解析MAC、IP、L4协议、端口、数据量等基础信息，以netflow形式发送至127.0.0.1:9995。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 参数说明 ​\t通过参数指定数据源、运行模式、解析格式、采集器位置等。\n# lyprobe -h\rlyprobe -n \u0026lt;host:port|none\u0026gt; [-i \u0026lt;interface|dump file\u0026gt;] [-f \u0026lt;filter\u0026gt;]\r[-G] [-O \u0026lt;# threads\u0026gt;] [-w \u0026lt;hash size\u0026gt;] [-e \u0026lt;flow delay\u0026gt;]\r[-T \u0026lt;flow template\u0026gt;] [-U \u0026lt;flow template id\u0026gt;]\r......\r[--collector|-n] \u0026lt;host:port|none\u0026gt; | Address of the NetFlow collector(s).\r| Multiple collectors can be defined using\r| multiple -n flags. In this case flows\r| will be sent in round robin mode to\r| all defined collectors if the -a flag\r| is used. Note that you can specify\r| both IPv4 and IPv6 addresses.\r| If you specify none as value,\r| no flow will be export; in this case\r| the -P parameter is mandatory.\r[--interface|-i] \u0026lt;iface|pcap\u0026gt; | Interface name from which packets are\r| captured, or .pcap file (debug only)\r[--bpf-filter|-f] \u0026lt;BPF filter\u0026gt; | BPF filter for captured packets\r| [default=no filter]\r[--daemon-mode|-G] | Start as daemon.\r[--num-threads|-O] \u0026lt;# threads\u0026gt; | Number of packet fetcher threads\r| [default=2]. Use 1 unless you know\r| what you\u0026#39;re doing.\r[--hash-size|-w] \u0026lt;hash size\u0026gt; | Flows hash size [default=32768]\r[--flow-delay|-e] \u0026lt;flow delay\u0026gt; | Delay (in ms) between two flow\r| exports [default=1]\r[--flow-templ|-T] \u0026lt;flow template\u0026gt; | Specify the NFv9 template (see below).\r--pcap-file-list \u0026lt;filename\u0026gt; | Specify a filename containing a list\r| of pcap files.\r| If you use this flag the -i option will be\r| ignored.\r...... 插件功能 服务识别插件 - servicePlugin ​\t通过数据包传输层载荷进行正则模式匹配，结合资产指纹规则，识别数据流应用层协议，目标IP的中间件服务、设备种类、操作系统等资产信息；结合威胁指纹规则，识别指定类型的威胁流量。\n​\t指纹规则存放于 fp-pattern/ 目录中，包含以JSON格式书写的五类规则：\nservice.json\t-- 应用层协议与服务识别规则\r​device.json\t-- 硬件设备识别规则\r​os.json\t-- 操作系统识别规则\r​midware.json\t-- 软件平台与中间件规则\r​threat.json\t-- 异常流量识别规则 ​\t指纹规则通过数个字段指定匹配条件与标记结果，例如：\n{\r\u0026#34;midware\u0026#34;:{\r\u0026#34;rules\u0026#34;:{\r\u0026#34;40001\u0026#34;:{\r\u0026#34;type\u0026#34;:\u0026#34;Web Service\u0026#34;,\t-- 命中后类型标识，输出至XXX_TYPE字段\r\u0026#34;name\u0026#34;:\u0026#34;Nginx\u0026#34;,\t-- 命中后名称标识，输出至XXX_NAME字段\r\u0026#34;protocol\u0026#34;:\u0026#34;tcp\u0026#34;,\t-- 指定传输层协议\r\u0026#34;port\u0026#34;:\u0026#34;80\u0026#34;,\t-- 指定端口\r\u0026#34;is_http\u0026#34;:1,\t-- 指定是否为HTTP流量\r\u0026#34;regex\u0026#34;:\u0026#34;Server: nginx(?:\\\\/(\\\\d*\\\\.?\\\\d*\\\\.?\\\\d*))?\u0026#34;,\t-- 正则语句\r// \u0026#34;version\u0026#34;:\u0026#34;\u0026#34;\t-- 使用指定字符串声明版本信息；未设置字段时,\r//\t-- 提取第一个正则子表达式命中内容作为版本信息\r}\r}\r}\r} ​\t指定字段，在采集数据过程中进行规则匹配，获取到服务、设备、操作系统、中间件的类型、名称、版本等信息以及威胁流量的描述信息。插件留存规则命中的数据包，并通过微秒级的时间戳，对指定数据包进行定位查找。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %SRV_TYPE %SRV_NAME %SRV_VERS %DEV_TYPE %DEV_NAME %DEV_VEND %DEV_VERS %OS_TYPE %OS_NAME %OS_VERS %MID_TYPE %MID_NAME %MID_VERS %THREAT_TYPE %THREAT_NAME %THREAT_VERS %SRV_TIME %DEV_TIME %OS_TIME %MID_TIME %THREAT_TIME\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 DNS协议解析插件 - dnsPlugin ​\t解析PCAP文件的数据流量，实现对DNS协议内容的解析，获取DNS查询域名，查询类型，查询结果关联IP。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %DNS_REQ_DOMAIN %DNS_REQ_TYPE %DNS_RES_IP\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 HTTP协议解析插件 - httpPlugin ​\t解析PCAP文件的数据流量，实现对HTTP协议内容的解析，获取HTTP协议头部字段信息。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %HTTP_URL %HTTP_REQ_METHOD %HTTP_HOST %HTTP_MIME %HTTP_RET_CODE %HTTP_USER_AGENT\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 ICMP协议解析插件 - icmpPlugin ​\t解析PCAP文件的数据流量，实现对ICMP协议内容的解析，获取ICMP载荷内容等信息。\n# lyprobe -T \u0026#34;%IN_SRC_MAC %OUT_DST_MAC %IPV4_SRC_ADDR %IPV4_DST_ADDR %PROTOCOL %L4_SRC_PORT %L4_DST_PORT %TCP_FLAGS %SRC_TOS %IN_PKTS %IN_BYTES %ICMP_DATA %ICMP_SEQ_NUM %ICMP_PAYLOAD_LEN\u0026#34; -n 127.0.0.1:9995 -e 0 -w 32768 -G -i eth0 开源许可 GNU GENERAL PUBLIC LICENSE Version 3 联系方式 如果在开发、部署、使用的过程中遇到任何问题，或者技术讨论、产品咨询、商务合作等，都欢迎前来联系我们！\n联系邮箱：opensource@abyssalfish.com.cn\n",
    "pubDate": "2022-12-28T00:00:00+08:00"
    }, 
    {
        "objectID": license,
    "url": "https://abyssalfish-os.github.io/about/license/",
    "title": "License",
    "summary": "探针模块ly_probe源自于nprobe早期开源5.x版本，遵循GNU GPLv3 协议 分析检测模块ly_analyser使用了nfdump，其中nf",
    "content": "\r探针模块ly_probe源自于nprobe早期开源5.x版本，遵循GNU GPLv3 协议 分析检测模块ly_analyser使用了nfdump，其中nfdump相关部分遵循协议 BSD license Version 3, 29 June 2007 https://www.gnu.org/licenses/gpl-3.0.txt\nGNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007\nCopyright (C) 2007 Free Software Foundation, Inc. http://fsf.org/ Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.\nPreamble The GNU General Public License is a free, copyleft license for software and other kinds of works.\nThe licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, the GNU General Public License is intended to guarantee your freedom to share and change all versions of a program\u0026ndash;to make sure it remains free software for all its users. We, the Free Software Foundation, use the GNU General Public License for most of our software; it applies also to any other work released this way by its authors. You can apply it to your programs, too.\nWhen we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.\nTo protect your rights, we need to prevent others from denying you these rights or asking you to surrender the rights. Therefore, you have certain responsibilities if you distribute copies of the software, or if you modify it: responsibilities to respect the freedom of others.\nFor example, if you distribute copies of such a program, whether gratis or for a fee, you must pass on to the recipients the same freedoms that you received. You must make sure that they, too, receive or can get the source code. And you must show them these terms so they know their rights.\nDevelopers that use the GNU GPL protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License giving you legal permission to copy, distribute and/or modify it.\nFor the developers\u0026rsquo; and authors\u0026rsquo; protection, the GPL clearly explains that there is no warranty for this free software. For both users\u0026rsquo; and authors\u0026rsquo; sake, the GPL requires that modified versions be marked as changed, so that their problems will not be attributed erroneously to authors of previous versions.\nSome devices are designed to deny users access to install or run modified versions of the software inside them, although the manufacturer can do so. This is fundamentally incompatible with the aim of protecting users\u0026rsquo; freedom to change the software. The systematic pattern of such abuse occurs in the area of products for individuals to use, which is precisely where it is most unacceptable. Therefore, we have designed this version of the GPL to prohibit the practice for those products. If such problems arise substantially in other domains, we stand ready to extend this provision to those domains in future versions of the GPL, as needed to protect the freedom of users.\nFinally, every program is threatened constantly by software patents. States should not allow patents to restrict development and use of software on general-purpose computers, but in those that do, we wish to avoid the special danger that patents applied to a free program could make it effectively proprietary. To prevent this, the GPL assures that patents cannot be used to render the program non-free.\nThe precise terms and conditions for copying, distribution and modification follow.\nTERMS AND CONDITIONS 0. Definitions. \u0026ldquo;This License\u0026rdquo; refers to version 3 of the GNU General Public License.\n\u0026ldquo;Copyright\u0026rdquo; also means copyright-like laws that apply to other kinds of works, such as semiconductor masks.\n\u0026ldquo;The Program\u0026rdquo; refers to any copyrightable work licensed under this License. Each licensee is addressed as \u0026ldquo;you\u0026rdquo;. \u0026ldquo;Licensees\u0026rdquo; and \u0026ldquo;recipients\u0026rdquo; may be individuals or organizations.\nTo \u0026ldquo;modify\u0026rdquo; a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a \u0026ldquo;modified version\u0026rdquo; of the earlier work or a work \u0026ldquo;based on\u0026rdquo; the earlier work.\nA \u0026ldquo;covered work\u0026rdquo; means either the unmodified Program or a work based on the Program.\nTo \u0026ldquo;propagate\u0026rdquo; a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well.\nTo \u0026ldquo;convey\u0026rdquo; a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying.\nAn interactive user interface displays \u0026ldquo;Appropriate Legal Notices\u0026rdquo; to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options, such as a menu, a prominent item in the list meets this criterion.\n1. Source Code. The \u0026ldquo;source code\u0026rdquo; for a work means the preferred form of the work for making modifications to it. \u0026ldquo;Object code\u0026rdquo; means any non-source form of a work.\nA \u0026ldquo;Standard Interface\u0026rdquo; means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among developers working in that language.\nThe \u0026ldquo;System Libraries\u0026rdquo; of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A \u0026ldquo;Major Component\u0026rdquo;, in this context, means a major essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it.\nThe \u0026ldquo;Corresponding Source\u0026rdquo; for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities. However, it does not include the work\u0026rsquo;s System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example, Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such as by intimate data communication or control flow between those subprograms and other parts of the work.\nThe Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source.\nThe Corresponding Source for a work in source code form is that same work.\n2. Basic Permissions. All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law.\nYou may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you.\nConveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary.\n3. Protecting Users\u0026rsquo; Legal Rights From Anti-Circumvention Law. No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting circumvention of such measures.\nWhen you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work\u0026rsquo;s users, your or third parties\u0026rsquo; legal rights to forbid circumvention of technological measures.\n4. Conveying Verbatim Copies. You may convey verbatim copies of the Program\u0026rsquo;s source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program.\nYou may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee.\n5. Conveying Modified Source Versions. You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions:\na) The work must carry prominent notices stating that you modified it, and giving a relevant date.\nb) The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to \u0026ldquo;keep intact all notices\u0026rdquo;.\nc) You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it.\nd) If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so.\nA compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage or distribution medium, is called an \u0026ldquo;aggregate\u0026rdquo; if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation\u0026rsquo;s users beyond what the individual works permit. Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate.\n6. Conveying Non-Source Forms. You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways:\na) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange.\nb) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge.\nc) Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such an offer, in accord with subsection 6b.\nd) Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it is available for as long as needed to satisfy these requirements.\ne) Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d.\nA separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work.\nA \u0026ldquo;User Product\u0026rdquo; is either (1) a \u0026ldquo;consumer product\u0026rdquo;, which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, \u0026ldquo;normally used\u0026rdquo; refers to a typical or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product.\n\u0026ldquo;Installation Information\u0026rdquo; for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made.\nIf you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM).\nThe requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the network.\nCorresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require no special password or key for unpacking, reading or copying.\n7. Additional Terms. \u0026ldquo;Additional permissions\u0026rdquo; are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program remains governed by this License without regard to the additional permissions.\nWhen you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission.\nNotwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms:\na) Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or\nb) Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or\nc) Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or\nd) Limiting the use for publicity purposes of names of licensors or authors of the material; or\ne) Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or\nf) Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual assumptions directly impose on those licensors and authors.\nAll other non-permissive additional terms are considered \u0026ldquo;further restrictions\u0026rdquo; within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying.\nIf you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms.\nAdditional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way.\n8. Termination. You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent licenses granted under the third paragraph of section 11).\nHowever, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently, if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation.\nMoreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.\nTermination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify to receive new licenses for the same material under section 10.\n9. Acceptance Not Required for Having Copies. You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating a covered work, you indicate your acceptance of this License to do so.\n10. Automatic Licensing of Downstream Recipients. Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third parties with this License.\nAn \u0026ldquo;entity transaction\u0026rdquo; is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party\u0026rsquo;s predecessor in interest had or could give under the previous paragraph, plus a right to possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts.\nYou may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License, and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it.\n11. Patents. A \u0026ldquo;contributor\u0026rdquo; is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor\u0026rsquo;s \u0026ldquo;contributor version\u0026rdquo;.\nA contributor\u0026rsquo;s \u0026ldquo;essential patent claims\u0026rdquo; are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License, of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, \u0026ldquo;control\u0026rdquo; includes the right to grant patent sublicenses in a manner consistent with the requirements of this License.\nEach contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor\u0026rsquo;s essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents of its contributor version.\nIn the following three paragraphs, a \u0026ldquo;patent license\u0026rdquo; is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent infringement). To \u0026ldquo;grant\u0026rdquo; such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party.\nIf you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange, in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. \u0026ldquo;Knowingly relying\u0026rdquo; means you have actual knowledge that, but for the patent license, your conveying the covered work in a country, or your recipient\u0026rsquo;s use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid.\nIf, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it.\nA patent license is \u0026ldquo;discriminatory\u0026rdquo; if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28 March 2007.\nNothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law.\n12. No Surrender of Others\u0026rsquo; Freedom. If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program.\n13. Use with the GNU Affero General Public License. Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU Affero General Public License into a single combined work, and to convey the resulting work. The terms of this License will continue to apply to the part which is the covered work, but the special requirements of the GNU Affero General Public License, section 13, concerning interaction through a network will apply to the combination as such.\n14. Revised Versions of this License. The Free Software Foundation may publish revised and/or new versions of the GNU General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns.\nEach version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU General Public License \u0026ldquo;or any later version\u0026rdquo; applies to it, you have the option of following the terms and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU General Public License, you may choose any version ever published by the Free Software Foundation.\nIf the Program specifies that a proxy can decide which future versions of the GNU General Public License can be used, that proxy\u0026rsquo;s public statement of acceptance of a version permanently authorizes you to choose that version for the Program.\nLater license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version.\n15. Disclaimer of Warranty. THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \u0026ldquo;AS IS\u0026rdquo; WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n16. Limitation of Liability. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\n17. Interpretation of Sections 15 and 16. If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee.\nEND OF TERMS AND CONDITIONS How to Apply These Terms to Your New Programs\nIf you develop a new program, and you want it to be of the greatest possible use to the public, the best way to achieve this is to make it free software which everyone can redistribute and change under these terms.\nTo do so, attach the following notices to the program. It is safest to attach them to the start of each source file to most effectively state the exclusion of warranty; and each file should have at least the \u0026ldquo;copyright\u0026rdquo; line and a pointer to where the full notice is found.\n\u0026lt;one line to give the program\u0026rsquo;s name and a brief idea of what it does.\u0026gt; Copyright (C) This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\nYou should have received a copy of the GNU General Public License along with this program. If not, see http://www.gnu.org/licenses/.\nAlso add information on how to contact you by electronic and paper mail.\nIf the program does terminal interaction, make it output a short notice like this when it starts in an interactive mode:\nCopyright (C) This program comes with ABSOLUTELY NO WARRANTY; for details type show w'.\rThis is free software, and you are welcome to redistribute it\runder certain conditions; type show c\u0026rsquo; for details.\nThe hypothetical commands show w' and show c\u0026rsquo; should show the appropriate parts of the General Public License. Of course, your program\u0026rsquo;s commands might be different; for a GUI interface, you would use an \u0026ldquo;about box\u0026rdquo;.\nYou should also get your employer (if you work as a programmer) or school, if any, to sign a \u0026ldquo;copyright disclaimer\u0026rdquo; for the program, if necessary. For more information on this, and how to apply and follow the GNU GPL, see http://www.gnu.org/licenses/.\nThe GNU General Public License does not permit incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this is what you want to do, use the GNU Lesser General Public License instead of this License. But first, please read http://www.gnu.org/philosophy/why-not-lgpl.html.\n",
    "pubDate": "2022-12-01T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/news/opensource/",
    "title": "流影宣布开源",
    "summary": "开源：流影\u0026ndash;基于流量的网络行为高级分析平台 项目简介 流影是一款基于全流量的高级网络行为分析系统，该系统是由深海鱼（北京）科技有限公",
    "content": "开源：流影\u0026ndash;基于流量的网络行为高级分析平台\r项目简介 流影是一款基于全流量的高级网络行为分析系统，该系统是由深海鱼（北京）科技有限公司流影项目组研发设计，首发开源是1.0版本。\n深海鱼（北京）科技有限公司专注于为客户提供优质的数据分析相关服务，近年来立足于客户的数字安全需求，深耕网络流量数据挖掘及网络安全数据可视化分析等方面研究，初步设计研发出一款高级网络行为分析系统，为全行业客户提供网络安全行为分析及追溯能力。\n流影是面向全行业用户的下一代网络安全平台，专注于分析识别各类网络威胁相关行为，同时对各类网络行为留存关键证据。采用的核心技术包括深度包检测、网络流数据挖掘、专家经验特征模型、机器学习、数据可视化等，涵盖了网络威胁入侵检测、网络行为痕迹留存、资产被动测绘、威胁行为告警、网络行为可视化分析、态势感知等网络安全方面的基础能力。流影采用了模块化引擎设计，易于部署和操作使用，灵活可扩展，为客户提供了一种轻量级的网络安全感知与网络行为可视化分析综合解决方案。广泛适用于各类企业及个人，在网络安全运维、攻防演练、异常通讯检测、威胁追溯分析等应用场景。\n流影功能特性：\n可视化：用户界面利用前沿安全数据可视化技术进行呈现，提供高效交互式分析方式，增强用户对网络行为数据的理解，帮助用户从海量数据中发现重要威胁线索 可解释：系统分析引擎自动挖掘记录网络行为关键特征，保存异常通讯特征，为行为分析提供解释依据 事件聚合：威胁行为告警事件经过特征模型、情报过滤、关联聚合，产生重要而准确的告警事件，让事件可处置 数据分层治理：原始流量数据经过采集层、特征分析层、数据聚合管理层的三层处理，分别完成采集解析、特征分析提取、安全事件聚合功能，每层数据由相应节点管理，快速响应分析挖掘需求 高性能：流量采集单节点支持高达10Gbps，用户界面秒级响应 通过流影系统对互联网出口、内部交换节点等关键流量进行分析，看清网络通讯、看见网络行为、看懂网络威胁，帮助用户以安全可视化的方式，对自身网络安全风险快速精准发现和识别，守护每一位用户的数字化发展之路。\n开源目的 流影是一项低门槛、轻量级的网络威胁识别与分析的解决方案，具有灵活可扩展的特点，可以为各层次用户提供网络安全服务，发挥安全防护价值。\n为最大化流影系统的价值，更好服务用户，公司决定将流影系统开源，在合法的前提下，任何企业及个人都可以安装使用。\n通过开源，更希望广大安全研发人员能参与进来，在获取更多的用户使用反馈的同时，不断迭代流影功能，形成正向循环发展，为用户提供更好的分析服务和威胁发现能力，也为我国网络安全、数据安全建设贡献力量。\n项目地址 GitHub\nGitee\n演示地址 Demo地址\n演示账号：demo\n口令：demo@2022\n联系反馈 邮箱：opensource@abyssalfish.com.cn ",
    "pubDate": "2022-12-30T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/peizhi/",
    "title": "系统配置",
    "summary": "配置概述 配置页面可以，包含了事件检测、资产范围、黑白名单、追踪目标、用户管理等。各个功能模块。 其中由于页面的布局展示的一致，所以新增、编辑、",
    "content": "配置概述 配置页面可以，包含了事件检测、资产范围、黑白名单、追踪目标、用户管理等。各个功能模块。\n其中由于页面的布局展示的一致，所以新增、编辑、删除的操作都是一致的。只有每个模块的配置项不一致。下面统一介绍后操作方法后，后面主要分别讲解一下配置的内容。\n基本操作 新增 进入【配置/XXX】页面，在子导航区域选中配置类型。 点击配置列表区域的新增按钮，出现配置弹窗。 填入信息后，点击“下一步”。 二次确认后，点击“提交”。 编辑 进入【配置/XXX】页面，在子导航区域选中配置类型。 在配置列表区域，找到想要修改的配置条目，点击其操作列“更多”。 点击“修改”，触发编辑弹窗。 编辑配置内容后。点击“下一步”。 二次确认信息无误后，点击“提交” 删除 单条删除 进入【配置/XXX】页面，在子导航区域选中配置类型。 在配置列表区域中，找到想要删除的配置条目，点击其操作列按钮。 点击“删除”，触发删除确认框。 点击“确定”。 批量删除 进入【配置/xxx】页面，在子导航区域选中配置类型。 在配置列表区域中，通过选择框，选择所有要删除的条目。 点击表格上方的“批量删除”，出现删除确认框。 点击“确定”。 检测规则 事件的配置内容分为两部分。分别是基础配置和规则配置。所有事件类型的基础配置部分都一样，规则配置部分则不同。\n基础配置 名称 必填 描述 数据源 是 规则生效的采集环境 事件级别 是 检测的安全事件级别，其中auto_loose和auto_tight都会自动计算告警阈值，不过auto_loose的级别变更灵敏性及较低。 事件状态 是 规则检测是否开启 监控星期 是 规则生效周期(天) 开始时间 是 规则在一天中的生效开始时间。 结束时间 是 规则在一天中的生效结束时间。 描述 是 规则备注 黑名单事件 介绍 黑名单事件是在规则生效的时间内，探针检测到了主机有主动外连访问系统黑名单中的设备的行为，并且通讯量超过了设定的阈值。就会产生黑名单安全事件告警。\n配置内容 名称 必填 描述 最小值 是 最小阈值 最大值 否 最大阈值 阈值单位 是 字节量/秒、会话量/秒、包数量/秒。 包特征事件 介绍 包特征事件，是通过包内容检测的方式检测出安全事件，其内部包含SQL注入、XSS注入、Code注入、文件包含、CMD注入、WebShell注入、后门利用等多种安全子类型。\n此部分由后端设置，前端不涉及配置。\nDGA事件 介绍 通过AI模型对域名进行DGA域名相似度评估，当相似度评估值、单位时间内疑似DGA域名的数量超过设定的阈值后即产生告警事件。DGA事件一般是C2通讯的前置行为。\n配置内容 名称 必填 描述 源IP 否 发起DNS查询的IP 目的IP 否 DNS服务器 最小百分比 是 查询域名的疑似DGA的概率阈值 域名数量 是 5分钟内，疑似DGA域名的数量阈值 DNS事件 介绍 DNS事件是指设备存在查询威胁情报库中的危险域名的风险行为。当设备频繁发生查询危险域名时，说明该主机已被黑客控制，或者为内网用户的违规操作。\n配置内容 名称 必填 描述 查询DNS的IP 否 查询DNS的设备，支持IP段的填写，多个目标可以通过英文逗号分割。 查询域名 否 查询的DNS域名，多个目标可以通过英文逗号分割。 查询次数 是 DNS查询的阈值 DNS隧道事件 介绍 DNS隧道攻击是通过DNS查询的方式，建立传输信息的隧道，以躲避防火墙或其他安全防护设备的阻拦。\n配置内容 名称 必填 描述 查询DNS的IP 否 发起DNS查询动作的IP 域名长度 否 查询的域名长度阈值 父域名请求次数阈值 否 5分钟内，查询的父域名次数阈值 检出评估值 否 域名的信息熵阈值，默认值是4 DNS隧道机器学习检测事件 介绍 通过AI模型的方式识别DNS隧道行为。通过模型对DNS请求域名进行相似性评估得到评估值，当评估值超出相似度阈值后产生告警。\n配置内容 名称 必填 描述 查询DNS的IP 是 发起DNS请求的IP，支持IP端的填写，多个IP使用英文逗号分割。 DNS服务器IP 是 DNS服务器 可疑程度 是 查询的域名有多像DNS隧道，取值为0-99 服务器外连事件 介绍 系统对指定服务器设备进行主动外连行为的监控，服务器作为C/S架构的S端，一般不会主动对外发起网络通讯。当发生了主动外连时，服务器很有可能已被控制。\n配置内容 名称 必填 描述 服务器IP 是 服务器设备 外联通讯 否 外部设备 阈值 是 通讯流量阈值 ICMP隧道事件 介绍 系统检测到在ICMP通讯中，从频率以及包载荷内容中检测到异常，存在传递信息的行为。就会产生ICMP隧道告警。\n配置内容 名称 必填 描述 源IP 否 ICMP通讯的源端，不填写为所有 目的IP 否 ICMP通讯的对端，不填写为所有 异常载荷内容种类数 否 在一个5分钟内，一个ICMP通讯中，产生的异常通讯类型（type不等于0和8）的Payload中，不同内容的种类数量，默认为5 所有载荷种内容类数 否 在一个5分钟内，一个ICMP通讯中，产生所有的Payload中，不同内容的种类数量，默认为2 所有载荷长度种类数 否 在一个5分钟内，一个ICMP通讯中，产生的所有Payload中，其内容长度的种类数量，默认为5 描述信息 否 规则备注 IP扫描 介绍 IP扫描是信息收集阶段的攻击，攻击者探测一个具体IP的存活端口，寻找注入点。当IP扫描发生时，说明攻击者的目标很明确了。\n配置内容 名称 必填 描述 探测端口数量阈值 是 最小扫描端口数量 扫描源IP 否 扫描源IP 受害IP 否 被扫描IP 协议 否 支持TCP、UDP、ICMP等协议，默认是选择全部 追踪事件 介绍 系统提供对设置的追踪目标进行告警监控，当追踪目标在单位时间内产生的流量超出阈值后就会产生告警。追踪事件的应用场景非常的灵活，例如如果要监控总裁办公室的非工作时间的流出流量，就可以把“总裁办公司设备对外通讯”设置为追踪目标，然后添加到追踪事件中，配置好流量阈值以及规则生效时间即可。\n配置内容 名称 必填 描述 监控追踪条目 是 选择需要监控追踪目标 数据类型 是 阈值单位：字节量/秒、会话量/秒、包数量/秒 最小值 是 最小阈值 最大值 否 最大阈值 端口扫描 介绍 端口扫描，是信息收集阶段的攻击。针对于一个特定的端口，检测有哪些IP的该端口是存活的。有可能攻击者已经掌握了该端口的某个服务的漏洞。\n配置内容 名称 必填 描述 探测IP数量阈值 是 扫描源探测的IP数量阈值最小值。 被扫描端口 否 监控的端口 扫描源IP 否 扫描源 协议 否 支持TCP、UDP、ICMP等协议，默认是选择全部。 异常服务 介绍 当某台服务器的某个服务一个时间切片内，提供服务的次数超过了设定的端口会话数阈值，就会产生告警事件。在一个稳定的网络环境中，服务的访问量应该也是稳定的，如果骤增则可能发生了攻击行为。\n配置内容 名称 必填 描述 服务会话数阈值 是 服务上5分钟内产生的会话量阈值 服务端口 否 不填写就是所有的端口 服务IP 否 不填写就是所有的IP 协议 否 支持TCP、UDP、ICMP等协议，默认是选择全部。 情报命中 介绍 情报事件系统检测到了主机有主动外连访问系统内置的威胁情报设备的行为，并且通讯量超过了设定的阈值。就会产生情报命中告警。\n配置内容 名称 必填 描述 最小值 是 最小阈值 最大值 否 最大阈值 阈值单位 是 字节量/秒、会话量/秒、包数量/秒。 URL内容识别 介绍 通过攻击行为的正则表达式与URL进行匹配来检测和防范API攻击、XSS、SQL注入等攻击。\n配置内容 名称 必填 描述 阈值 是 匹配的Flow数量 类型 是 威胁的类型，如SQL、XSS等。 正则 是 威胁语句的正则表达式 挖矿检测 介绍 挖矿事件是到在规则生效的时间内，探针检测到了设备存在访问数字货币交易平台、连接矿池、接收挖矿任务、提交任务等典型挖矿行为。\n配置内容 无\n事件忽略配置 介绍 事件忽略配置是一种更精细化配置的告警白名单，可以指定设备五元组、域名以及事件类型来规避业务误报。\n配置内容 名称 必填 描述 发起IP 是 攻击设备IP 目标IP 否 受害设备IP 目标端口 否 受害设备端口 域名 否 查询域名 协议 否 告警通讯的协议 描述 否 描述信息 周期 否 忽略配置生效周期(天) 开始时间 否 忽略配置在一天中的生效开始时间。 结束时间 否 忽略配置在一天中的生效结束时间。 资产配置 介绍 资产组便于在系统中进行资产轻量管理、标签展示、确认设备身份、设别资产相关事件等。并且只有在配置范围内的IP，才会识别资产信息。\n配置内容 名称 必填 描述 IP 是 资产组IP范围 描述 否 资产组名称 数据源 否 资产组所属于的采集环境 黑白名单配置 介绍 黑名单配置后会检测黑名单的通讯，产生黑名单类别的安全事件告警。白名单中的设备配置后就不会产生安全事件了。\n配置内容 名称 必填 描述 IP 是 黑/白名单设备IP 端口 否 黑/白名单设备端口 描述 是 黑/白名单设备描述 追踪配置 追踪分组 介绍 追踪分组是方便用户分类管理不同的追踪目标。\n配置内容 名称 必填 描述 名称 是 分组名 追踪条目 介绍 系统支持对IP、端口以及通讯关系进行追踪观察，并且可以配置相关的安全事件告警，配置参考追踪事件。\n配置内容 名称 必填 描述 追踪目标IP 与追踪目标端口必填一个 追踪的IP地址 追踪目标端口 与追踪目标IP必填一个 追踪的端口 对端IP 否 追踪的通讯关系中的对端IP 对端端口 否 追踪的通讯关系中的对端端口 协议 否 追踪目标的通讯协议 追踪分组 是 所属分组 方向 是 追踪通讯关系的流向。ALL：不关注通讯方向。IN：只关注对端 \u0026ndash;\u0026gt; 追踪目标的通讯。OUT：只关注追踪目标 \u0026ndash;\u0026gt; 对端的通讯。 数据源 是 监控目标所属采集环境 描述 否 标签描述 系统配置 用户配置 介绍 支持修改用户密码、权限、访问数据资源、锁定/解锁等操作。\n配置内容 名称 必填 描述 用户名 是 账号 密码 是 密码 重复密码 是 重复密码 注释 否 描述信息 角色 是 系统内部具有三种权限的用户：1) Viewer观察员。只能查看数据和修改自身密码。2) Analysis分析员，仅能调整事件的检出规则配置和修改自身密码。3) Admin管理员。拥有系统所有权限。 是否禁用 否 是否锁定账户 资源 否 用户能够访问的采集环境 数据节点配置 介绍 数据节点也就是采集节点的配置，系统部署后有一个默认的采集器配置。\n配置内容 名称 必填 描述 名称 是 数据节点名称 模型 否 填入IPv4或者IPv6 创建者 否 新建配置的人 注释 否 描述信息 端口 是 发送到分析节点哪个接收端口，注意端口占用 设备类型 否 采集流量设备属性描述信息。router: 路由器switch: 交换机mirror：镜像 数据类型 否 netflow和sflow两种数据格式 分析节点 否 采集后的数据发到哪个分析节点 禁止使用 否 是否禁用采集器 分析节点配置 介绍 分析节点是系统架构中的数据分析层，用来接收采集器采集、解析的数据，并识别特征和告警事件，Server服务器来读取最终的结果数据。\n配置内容 名称 必填 描述 名称 是 数据节点名称 创建者 否 填入IPv4或者IPv6 注释 否 新建配置的人 IP地址 是 分析节点的地址，让Server用来读取数据的 状态 否 disconnect：断开连接connect：连接 禁止使用 否 是否禁用分析节点。 ",
    "pubDate": "2022-12-30T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/zhuizong/",
    "title": "追踪功能",
    "summary": "用户可以使用追踪功能对 IP、端口、会话关系等目标进行持续关注、标签备注、分组管理以及自定义告警。追踪页面针对于追踪目标提供查询筛选、追踪列表",
    "content": "用户可以使用追踪功能对 IP、端口、会话关系等目标进行持续关注、标签备注、分组管理以及自定义告警。追踪页面针对于追踪目标提供查询筛选、追踪列表展示、安全事件关联、资产信息关联等功能。\n查询筛选 通过右上角的控制栏可以选择端口数据的时间范围和采集环境。页面上部提供丰富的过滤条件。其中包括：设备查询、追踪分组、事件命中、告警配置、是否产生流量、协议、方向等。设备查询支持模糊查询和精准查询两种方式。\n追踪列表展示 追踪列表展示符合查询筛选条件的追踪目标。除了追踪条目本身信息外，还展示相关安全事件、告警配置以及流量信息，并提供数据导出、新增追踪、编辑追踪、删除追踪以及追踪安全事件配置的快捷操作。\n数据导出 1）选择将要导出的数据，或者不选择数据，点击“导出数据”。\n2）在弹窗中选择文件类型与字段内容即可。\n3）点击“导出”。\n快捷配置 单条添加 点击“新增追踪条目”，触发新增弹窗。 输入信息后，点击“下一步”。 二次确认后，点击“提交”。 批量新增 点击“批量新增”，触发批量新增弹窗。 点击“xlsx模板或csv模板”下载对应格式模板。 编辑模板后，点击弹窗中间区域选择文件，或拖拽文件至中心区域。系统开始自动检测数据的合法性。 点击“导入”。 编辑追踪 点击编辑目标右侧操作列的“更多”。 点击“修改”，出现编辑弹窗。 修改内容后，点击“下一步”。 二次确认后，点击“提交”。 删除追踪 点击删除目标右侧操作列的“更多”按钮。 点击“删除”，触发删除确认框。 点击“确定”。 配置安全告警 点击配置目标右侧告警配置列的“设置”按钮，出现选择菜单。注意，当内容为“-”时不可操作。 在选择菜单中选择新增或者编辑已有的配合，出现配置弹窗。 配置结束后。点击“提交”。 扩展信息 点击追踪条目行列，追踪表格会展开显示追踪目标的扩展信息。其中包含起本信息、安全事件信息以及活跃资产信息。\n设备基本信息 将追踪目标拆为四部分，可以查看对应的地理位置、运营商、经纬度、系统标签、端口描述等信息。\n安全事件信息 系统会自动将安全事件与相关的追踪目标关联一起，并提供分类展示。在事件页面也可以通过追踪条目筛选找到对应安全事件。点击“查看事件列表”，可跳转至事件页面。\n活跃资产信息 可以查看追踪条目中，追踪目标端的活跃资产信息，包括IP、端口、网站以及URL。还可以查看端口上检测到的服务、中间件、操作系统、设备/应用系统等信息。\n",
    "pubDate": "2022-12-30T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/yanpan/",
    "title": "事件分析研判",
    "summary": "研判 研判页面是通过提供丰富的上下文信息，如告警信息、设备画像、安全事件时序分布、动作特征图谱、证据等模块，来辅助用户深入的了解安全事件，快速",
    "content": "研判 研判页面是通过提供丰富的上下文信息，如告警信息、设备画像、安全事件时序分布、动作特征图谱、证据等模块，来辅助用户深入的了解安全事件，快速确定事件真伪。\n基本信息 基本信息除了提供安全事件的告警信息之外，还提供额外操作。\n事件处置 点击切换操作标签。 在输入框输入操作备注。 点击“事件处置”。 事件报告 事件报告提供对于该事件的处置分析报告压缩包，压缩包中有四部分内容：事件处置报告、离散告警详细数据、动作特征数据、证据数据。\n点击“生成报告”，弹出报告弹窗。 预览报告内容，在人工建议中输入内容。 点击“报告下载”下载，下载后解压缩。 修改检出配置 当用户发现该安全事件不够精准，可以调整该安全事件对应事件检出配置。修改按钮位于事件处置区的上方。点击“按钮”触发事件配置弹窗。\n设备画像 设备信息提供涉事设备的以下信息，可以快速了解设备设备的身份属性。并提供快速跳转至更详细的威胁情报和活跃资产页面的快捷操作。\n类型 内容 威胁情报信息 情报标签。情报收录时间和更新时间。情报来源。威胁等级。 地理位置信息 国家、省份、城市。经纬度。时区。 系统配置标签 黑、白名单。所属资产组。 其他信息 运营商。 行为时序变化 告警时序变化模块可以让用户可以轻松地观察事件的时序特征，提升对安全事件的认知，配合其他模块能够得出攻击模式、攻击规律、脚本还是人为等多种有效信息。此外，系统还会自动计算和整理时序特征以及告警值特征，放置于图的右侧供用户参考。\n通过该图我们可以清楚观察到事件的行为特征，例如下图中，左图的事件时序规律为仅发生在白天的8：30至18：00，期间不间断攻击，并且节假日也在持续，结合设备画像，可以推测是某台员工的工作设备，并且每日自动执行攻击程序；右图则是仅发生在每日的凌晨1:15，则可能是机器上设置了定时任务。\n告警时序图的刷选的时间就是下方动作特征图谱以及事件相关特征展示数据的时间范围。\n时序图支持以下操作\n名称 场景 操作 切换时间 查看更长时间范围下的时序规律 点击“时间范围”执行快捷操作。或者在时间选择器中自由切换时间。 刷选 查看某些离散行为的详细证据。 1. 按住鼠标左键刷选目标离散行为。 提示框 查看离散事件的具体告警值和准备发生时间 1. 将鼠标移动至离散事件柱体上方。 动作特征图谱 动作特征图谱受行为时序图的控制，会展示该安全事件在上面时序图中所选时间范围内的相关的动作数据来进行佐证，并以可视化的表达绘制动作特征图谱。例如TCP扫描事件，特征图谱就会展示两个设备之间的TCP主动握手动作。\n特征图谱是将每一次的动作按照发生时间、字节量、会话量、包大小以及双方设备端口等维度绘制成一条曲线，最终多条曲线形成一张该安全事件特有的动作图谱。此外，系统还会自动计算动作的数据特征，并放置于图谱右侧供查阅参考。\n特征图谱能够帮助用户更好的证明安全事件的真伪性以及网络侧的攻击特征。例如下图中，我们可以得到以下信息：\n类型 特征 总结 结论 真伪 红线在端口坐标轴上涵盖了从0-65535全部端口。流量非常小。时间坐标轴上非常的集中，说明时间很短。扫描源对受害设备在5分钟内进行了106次的TCP发起握手动作。 1. 扫描源在极短的时间内，对受害设备的单位到高危端口发起了106次TCP握手动作。2. 扫描源扫了受害设备100个端口。平均每个端口访问一次 确定是TCP扫描 手法特征 红线在端口坐标轴上分布上非常均匀，并且间隔的很有规律。 被扫端口涵盖了低位和高位端口，并且是跨越式的扫描，扫描间隔和扫描内容的宽度相似。由此得到了攻击手法 均匀跨端口扫描 特征图谱支持的操作如下：\n名称 场景 操作 更改采样量 由于动作特征数据量有可能会很大从而影响用户体验，所以对动作特征加了一个限制，默认采样1000条。如果在某些场景下想看到1000条以上的数据，可以更改采样量。 修改采样数量的值。点击“刷新”。 事件相关特征 事件相关特征，展示的是检测该事件时相关的Flow数据，也就是该事件的直接证据。事件相关特征也受告警时序图的限制，展示的是告警时序图选中的时间范围内相关特诊数据。\n针对于不同的事件类型，事件相关特征表格展示的数据维度也不一样。针对于包内容检测出来的事件，特征表格每一列会有“展开”按钮，点开后，可以查看详细的包内容。\n特征表格支持的操作如下：\n名称 场景 操作 数据导出 想要将特征数据导出系统。 选择想要导出数据条目，不选择则全部导出。点击“导出数据”，出现导出弹窗。选择文件类型和导出字段。点击“导出”。 查看包内容 仅针对于包检测事件 点击具体条目最左边的按钮。 更改采样 想要看更多的证据数据 修改表头右侧的采样数量。点击“刷新”。 ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/basic-setting/",
    "title": "基础配置",
    "summary": "前提条件 通过浏览器访问http://yourserver:18080/ui，在登录页面使用默认管理员账号admin账号登录，登录页面如下图所",
    "content": "前提条件 通过浏览器访问http://yourserver:18080/ui，在登录页面使用默认管理员账号admin账号登录，登录页面如下图所示。\n黑白名单设置 为了减少出现误报、漏报的情况，用户需要准备黑白名单设备。\n白名单主要是外发类设备：漏扫设备，此类设备本身就会触发扫描类事件。 黑名单则是企业积累的恶意IP，系统会检测黑名单通讯，并产生安全事件告警。 在配置菜单下，选择黑白名单子菜单进行配置 配置项字段如下表所示\n名称 必填 描述 IP 是 黑/白名单设备IP 端口 否 黑/白名单设备端口 描述 是 描述信息 ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/shijian/",
    "title": "安全事件",
    "summary": "事件 流影【事件】页面是用来查看安全事件列表的，支持安全事件的查询、过滤、统计、处理等操作。可以通过导航进入此页面，也可以通过设备操作菜单中的",
    "content": "事件 流影【事件】页面是用来查看安全事件列表的，支持安全事件的查询、过滤、统计、处理等操作。可以通过导航进入此页面，也可以通过设备操作菜单中的“事件列表”进入到事件页面。\n事件查询 在页面右上方的控制栏中可以选择时间范围以及采集节点，点击刷新按钮后，就会加载对应的事件数据。对于所查询到的数据还可以进行下一步的筛选。\n筛选表单支持以下操作：\n文本输入类：输入条件后敲击“Enter”键，或者点击查询按钮。 标签选择类： 点击某一标签后选中，再次点击取消选中。 选中标签后，会在统计图表下方出现选择条件的汇总信息。可以通过点击“叉号”取消某个过滤条件。 点击某一条件的“全部”标签后，则该条件的其他标签全部取消选择。 选择类操作是即时生效的。 图表选择：可以通过点击柱状图或环形图本身进行快速选择。 筛选表单的展开 / 收起。 点击“展开”展开筛选表单。 点击“收起”收起筛选表单。 重置筛选：点击筛选表单下方的“重置”，或者筛选汇总的“重置”都可以重置表单。 设备查询切换 点击“精准查询”，切换至精准查询。 点击“模糊查询”，切换至模糊查询。 筛选条件支持以下条件：\n条件 描述 类型 事件ID 系统分配的事件唯一标识。 输入 设备查询 模糊查询：可以过滤某设备的全部事件。 输入 精准查询：可以指定受害设备、攻击设备进行过滤。 输入 追踪目标 直接从列表中选取某个追踪目标，查看相关安全事件。 输入 事件级别 包括：全部、极高、高、中、低、极低。 选择 处理状态 包括：全部、极高、高、中、低、极低。 选择 活跃状态 包括：全部、活跃、不活跃。 选择 事件类型 包括：全部、现有安全事件数据的事件类型。 选择 详细类型 包括：全部、现有安全事件数据的详细类型。 选择 协议 包括：全部、TCP、UDP、ICMP。 选择 资产组 包括：全部、现有安全事件数据中设备所属的资产组。 选择 事件统计 事件统计从威胁来源排行、受害目标排行、事件类型分布三个维度对安全事件数据进行统计。\n统计模块支持以下操作：\n筛选设备：点击柱状图的柱体，系统仅展示该设备的事件数据。 筛选类型：点击环形图的环体，系统仅展示该类型的事件数据。 事件类型统计：将鼠标移动至对应的柱体上，界面会出现如下的提示框。 设备操作：点击对应的设备名称。出现设备操作菜单。 事件处置 事件处置是通过处置操作改变事件的处置状态，从而实现对安全事件的运维管理。事件共有未处理、已确认、已处理三种状态，对应确认、处理、激活三种操作。\n快速处理：点击事件表格中某条安全数据的处理状态单元格（倒数第二列），弹出操作弹窗。选择对应操作。 批量处理：在事件表格中选中多条安全事件。投个上面会出现批量处理按钮。 事件研判 事件列表仅提供安全事件的结果信息，如果想要查看某条事件更多详细信息，确定事件性质。可以通过点击该事件最右侧的ID列，跳转至事件研判页面。\n",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/user-manual/zonglan/",
    "title": "态势总览",
    "summary": "子菜单 总览分为运维、管理、分析三个子模块，为运维人员提供全方位、可视化的安全监控以及系统管理服务。 运维 流影【总览/运维】页面，从事件分类统计",
    "content": "子菜单 总览分为运维、管理、分析三个子模块，为运维人员提供全方位、可视化的安全监控以及系统管理服务。\n运维 流影【总览/运维】页面，从事件分类统计、Top10受害目标事件分布、事件时间趋势以及多维统计排行等四个统计维度去分析安全事件。并提供工作台模块方便运维人员能够快速处理安全事件。\n控制栏 运维页面的数据范围可以通过操作导航下方的控制栏来进行控制。\n运维页面的顶部操作栏包含以下模块。\n模块 描述 自动刷新 选中后每五分钟自动更新运维页面数据。默认选中。 资产事件按钮 选中后仅展示所配置资产相关的安全事件。默认选中。 时间选择器 选取时间范围，提供今日、近三天、近一周的快捷选中方式。 采集节点 切换观察的流量环境。 刷新按钮 刷新页面。 分类统计 分类统计包含展示视图与设置视图两个视图。 告警类型排序 用户可以将自己关注的告警类型放在更显眼的位置。\n点击“展示视图右侧的“设置”按钮，出现“设置视图”。 用鼠标将“展示”区域的类型卡片拖拽排序。 点击“关闭”按钮或按“esc”键关闭弹窗。 忽略某类告警 用户可以长期在运维页面隐藏某类不关注的告警。\n点击“展示视图”右侧的“设置”按钮，出现“设置视图”。 用鼠标将“展示”区域的目标类型卡片拖拽至“隐藏”区域内。 点击“关闭”或按“esc”键关闭弹窗。 隐藏某类告警 当用户不想或者仅想通过运维页面视角查看某几类安全事件的分布、统计情况时，可以把本类型或者其他类型的事件隐藏掉。\n点击展示视图类型类型卡片左上角的“复选框”取消选中，即可隐藏该类型的安全事件 点击“复选框”选中，即可展示该类型。 展示全部类别 事件类型太多的时候，界面展示不下，会有部分告警类型隐藏起来。可以通过点击“展示视图”右侧的“更多”按钮。\nTop10受害目标事件分布 图介绍 展示安全事件中受影响设备攻击数量的Top10安全事件，并以可视化的形式按照攻击源、事件类型、受害目标、受害方所属资产组等多维度去展示它们之间的关联。\n用户可以从本模块得到关于受攻击最多的设备的一系列安全事件信息，例如属于哪些资产组、受到了来自哪些设备的哪种攻击、攻击设备之间有无关联等。\n图操作 单维度排序：分布图的单个维度，默认按照从发生事件数量从大调整顺序，可以通过点击维度标注右侧的“排序”按钮，进行正序或者倒序排列，有时能起到图形更规整，更容易寻找关联关系。 多维度排序：可以通过拖拽任意维度标注如“受害目标”，向左或者向右进行维度之间排序。能够更好的观察关注的两个维度之间的关联联系。 选择展示维度：点击右上角“显示维度”按钮，选择或取消选择展示的维度。 刷新：点击右上角“刷新”按钮，能够让视图快速恢复到初始状态。 展示关联：将鼠标移动到观察条目所处的柱状图上。相关的元素会着重展示出来。 查看详情：将鼠标移动到对应的观察条目上。将会出现统计信息提示框。 查看列表：将鼠标移动至统计信息提示框上，点击“查看列表”，系统会跳转至事件列表页，展示对应的安全事件。 设备操作：点击设备名称，出现操作列表弹窗，选择操作类型。 工作台 工作台仅展示还未处理的安全事件，运维人员可以通过工作台去完成今日工作。通过点击ID列去查看事件详细信息，然后对本次事件进行研判。\n工作台 事件时间趋势 展示时间范围内每5分钟的事件发生量的趋势。 多维统计排行 多维统计模块分别从攻击设备、受害设备、受害资产组三个用户最关心的维度去统计排行。用户可以快速了解哪些设备告警最频繁、主要受害区域等信息。\n管理 流影【总览/管理】页面，分为配置总览、系统状态、事件规则三个功能模块。能够让用户快速了解系统配置内容、系统运行状态、以及优化检出规则。\n系统配置总览 配置总览中包含部署设备数量、识别安全事件规则、资产组配置以及用户管理四个方面配置数量。\n系统运行状态 系统状态是将系统的各层设备节点以可视化的形式呈现出来，方便用户查看在多节点部署复杂网络环境中的关联关系。可以查看设备的运行状态、内存情况、各个进程是否运行，并且提供进程的开关、设备启动等多种操作。\n事件规则有效性 展示事件规则最近一周的检出趋势，用户可以由此判断规则的有效性。例如当一个规则的检出量特别大的时候，需要查看对应的事件，综合考虑是否需要提高规则的检测规则；当一个规则的检出量特别小的时候，结合实际环境，综合考虑是否需要降低规则的检测规则。\n分析 分析页面为用户提供了全局搜索功能，通过指定的查询条件，查询目标在系统内的所有信息，包括信息总览、威胁情报信息、安全事件、特征行为等信息。\n通过切换查询类型来实现IP、端口、域名、IP 端口、IP\u0026gt;端口以及IP：端口六种类型的目标查询。其中类型的含义如下。\nIP：IP地址 端口：端口号 域名：域名 IP 端口：指定IP和端口，但是不指定方向，包含SIP-DPORT、SIP-SPORT、SPORT-DIP以及DIP-DPORT四种情况。 IP\u0026gt;端口：SIP-DPORT的组合 IP:端口：SIP-SPORT的组合 信息总览 信息总览会展示设备基础信息、安全事件、行为特征三个方面的统计信息。\n基础信息：地理位置、经纬度、运营商、设备标签等信息。 事件信息：在指定时间范围内的安全事件统计信息，包括作为攻击方和受害方的统计信息以及安全事件的分布。 特征统计信息：六种行为特征统计数据。六种数据的具体含义会在行为特征部分描述。 威胁情报 威胁情报展示设备的威胁情报详细信息，包括情报标签、情报数量、更新时间、威胁评分等信息，含义如下：\n情报标签：最新的情报分类。 情报数据：情报数据的离散数量。 最早发现时间：情报数据第一次标记的时间。 最新更新时间：情报数据在情报库中最新更新时间。 情报的详细信息分为来源聚合、标签聚合以及时间线三个维度来展示，可以通过对比不同来源对查询目标的不同标记来辅助用户做决策。\n事件列表 安全事件列表则是展示查询目标在指定时间范围内的安全事件列表。支持各维度的排序、查看详情以及数据导出操作。\n行为特征 系统会记录设备的六种行为特征，并做了不同维度的统计分析。可以用来分析设备属性、发现异常行为、调查和溯源安全事件等。\n风险通讯 目标设备和威胁情报中记录的威胁设备发生通讯的风险行为。从下图中我们可以看到10.6.8.101建立了和98.137.159.25（木马主控网站）的通讯，\n黑名单通讯 目标设备的黑名单通讯的行为。会记录通讯的双方设备、通讯时间、协议、产生的流量大小等信息。\n扫描通讯 扫描源或者被扫端口涉及的扫描行为，会记录扫描源、端口、协议、产生的流量大小等信息。\nTCP通讯 目标设备的建立TCP连接的动作，包括主动发起TCP请求或者接收TCP请求，从而判断在一次连接中，目标设备是作为客户端还是服务端。在异常行为分析和威胁溯源时，可以判断是哪一方是主动方。\n例如从下图中，我们可以看到是10.6.8.101这个内网设备在2022-12-27 16：44：53主动请求了98.137.159.25这个美国IP，请求了共100次，共产生1.18M字节的流量，十分可疑。\n服务记录 服务记录是指查询目标在指定时间内提供或者请求的服务记录。并且记录动作时间、服务端口、服务是否响应、产生流量等。\n从下图中我们可以看到98.137.159.25有一个活跃服务端口25。并且在2022-12-27 16:44:53收到了请求，并及时的给出了响应。结合TCP通讯行为，我们可以得到10.6.8.101的请求成功了。\nDNS查询记录 记录查询目标在指定时间范围内的DNS查询记录，并且记录查询内容，DNS服务器地址、查询类型、是否为威胁域名以及产生流量大小等信息。\n用户可以从DNS查询记录中得到大量的设备信息。例如从该设备近500条DNS查询记录中，我们可以得到这是一个客户端机器，系统环境是windows，装有飞书、微信、QQ、腾讯会议等一系列软件，是一名原神玩家。\n",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }, 
    {
        "objectID": index,
    "url": "https://abyssalfish-os.github.io/demo/",
    "title": "Demo演示",
    "summary": "演示地址 Demo地址 演示账号：demo 口令：demo@2022 登录界面 总览界面 告警界面面 告警详情界面 联系反馈 邮箱：opensource@ab",
    "content": "演示地址 Demo地址\n演示账号：demo\n口令：demo@2022\n登录界面 总览界面 告警界面面 告警详情界面 联系反馈 邮箱：opensource@abyssalfish.com.cn ",
    "pubDate": "2022-12-29T00:00:00+08:00"
    }
]